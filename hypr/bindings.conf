# Custom keybindings based on dotfiles config
# Overrides Omarchy defaults where needed

###################
### MY PROGRAMS ###
###################

$terminal = kitty
$fileManager = kitty -e yazi
$menu = omarchy-launch-walker
$browser = chromium
$notes = obsidian
$colorPicker = hyprpicker
$messenger = beeper

##################################
### UNBIND CONFLICTING DEFAULTS ###
##################################

# Unbind Omarchy defaults that conflict with our bindings
unbind = SUPER, W        # Was: Close window (we want toggle floating)
unbind = SUPER, T        # Was: Toggle floating (we want terminal)
unbind = SUPER, F        # Was: Full screen (we want browser)
unbind = SUPER, J        # Was: Toggle split (we want scroll workspace)
unbind = SUPER, O        # Was: Pop window out (we want obsidian)
unbind = SUPER, P        # Was: Pseudo (we want color picker)
unbind = SUPER, S        # Was: Scratchpad (keeping for now but can change)
unbind = SUPER, K        # Was: Show keybindings (we want scroll workspace)
unbind = SUPER CTRL, L   # Was: Lock (we want SUPER+L)
unbind = SUPER, Y        # Was: Nautilus (we want yazi)
unbind = SUPER, Print    # Was: Color picker (we use SUPER+P instead)

#######################
### APPLICATION BINDS ###
#######################

bind = SUPER, T, exec, $terminal
bind = SUPER, F, exec, firefox
bind = SUPER, G, exec, chromium
bind = SUPER, O, exec, $notes
bind = SUPER, B, exec, $messenger
bind = SUPER, Y, exec, $fileManager
bind = SUPER, A, exec, $menu

#######################
### WINDOW MANAGEMENT ###
#######################

bind = SUPER, Q, killactive,
bind = SUPER, M, exit,
bind = SUPER, W, togglefloating,
bind = SUPER, SLASH, togglesplit,

########################
### WORKSPACE NAVIGATION ###
########################

# Scroll through workspaces with SUPER + J/K
bind = SUPER, K, workspace, e+1
bind = SUPER, J, workspace, e-1

# Move focus with arrow keys (keeping from dotfiles)
bind = SUPER, LEFT, movefocus, l
bind = SUPER, RIGHT, movefocus, r
bind = SUPER, UP, movefocus, u
bind = SUPER, DOWN, movefocus, d

# Switch workspaces with SUPER + [0-9]
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER, 6, workspace, 6
bind = SUPER, 7, workspace, 7
bind = SUPER, 8, workspace, 8
bind = SUPER, 9, workspace, 9
bind = SUPER, 0, workspace, 10

# Move active window to workspace with SUPER + SHIFT + [0-9]
bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5
bind = SUPER SHIFT, 6, movetoworkspace, 6
bind = SUPER SHIFT, 7, movetoworkspace, 7
bind = SUPER SHIFT, 8, movetoworkspace, 8
bind = SUPER SHIFT, 9, movetoworkspace, 9
bind = SUPER SHIFT, 0, movetoworkspace, 10

# Special workspace (scratchpad)
bind = SUPER SHIFT, S, movetoworkspace, special:magic

# Move/resize windows with mouse
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow
bindm = SUPER, Z, movewindow
bindm = SUPER, X, resizewindow

# Resize windows with keyboard
binde = SUPER SHIFT, RIGHT, resizeactive, 30 0
binde = SUPER SHIFT, LEFT, resizeactive, -30 0
binde = SUPER SHIFT, UP, resizeactive, 0 -30
binde = SUPER SHIFT, DOWN, resizeactive, 0 30

#######################
### UTILITIES ###
#######################

# Emoji picker
bind = SUPER, E, exec, omarchy-launch-walker -m symbols

# Clipboard
bind = SUPER, V, exec, omarchy-launch-walker -m clipboard

# Color picker
bind = SUPER, P, exec, $colorPicker | wl-copy

# Screen locking
bind = SUPER, L, exec, hyprlock


# Toggle waybar
bind = CTRL, ESCAPE, exec, killall waybar || waybar

# Show keybindings
bind = SUPER SHIFT, K, exec, omarchy-menu-keybindings

#######################
### SCREENSHOTS ###
#######################

# Screenshot with editing (select area)
bind = , Print, exec, omarchy-cmd-screenshot
# Screenshot to clipboard (smart selection)
bind = SHIFT, Print, exec, omarchy-cmd-screenshot smart clipboard
# Instant fullscreen screenshot (no editor)
bind = SUPER, Print, exec, grim ~/Pictures/screenshot-$(date +'%Y-%m-%d_%H-%M-%S').png && notify-send "Screenshot saved to ~/Pictures"
# Screen recording menu
bind = ALT, Print, exec, omarchy-menu screenrecord

#######################
### MEDIA CONTROLS ###
#######################

# Volume
bind = , XF86AudioRaiseVolume, exec, pamixer -i 5
bind = , XF86AudioLowerVolume, exec, pamixer -d 5
bind = , XF86AudioMicMute, exec, pamixer --default-source -m
bind = , XF86AudioMute, exec, pamixer -t

# Playback - using omarchy defaults from media.conf
# bind = , XF86AudioPlay, exec, playerctl play-pause
# bind = , XF86AudioPause, exec, playerctl play-pause
# bind = , XF86AudioNext, exec, playerctl next
# bind = , XF86AudioPrev, exec, playerctl previous

# Brightness
bind = , XF86MonBrightnessUp, exec, brightnessctl s +5%
bind = , XF86MonBrightnessDown, exec, brightnessctl s 5%-
